{% extends 'base.html.twig' %}

{% block title %} Show session! {% endblock %}

{% block body %}
<main>

    <section>
        <figure class="container-fluid bg-warning-subtle gx-0">
            <img src="{{session.image}}" class="w-100 opacity-50" alt="image {{session.title}}"/>
        </figure>
    </section>

    <section class="container">
        <h1>{{session}}</h1>
        <hr>
        <div class="card p-3 bg-light" style="width: 25rem;">
            <p>
                Formateur: <a href="{{ path('show_trainer', {'id': session.trainer.id}) }}"> {{session.trainer}} </a> <br>
                ***********************<br>
                Date de début : {{session.frenchStartDate}} <br>
                Date de fin : {{session.frenchEndDate}} <br>

                {# affichage d'un span complet si la session est complete#}
                {% if session.countPlaceLeft() == 0 %}
                    Nombre de place:  <span class="badge bg-danger">Complete</span> <br>
                {% else %}
                    Nombre de place: {{session.countPlaceLeft()}} / {{session.nbPlace}} <br>
                {% endif %}

                Nombre d'inscrits : {{session.countPlaceTaken}}<br>
                Nombre de module : {{session.countModulesInSession()}}
            </p>
        </div>

        <div class="my-4 col-12 col-md-6">
            <h2 class="mb-3">Stagiaire inscrits <span class="badge bg-dark">{{session.countPlaceTaken}}</span></h2>

            <table class="table">
                <thead>
                    <tr>
                    <th scope="col">Stagiaire</th>
                    <th  class="col col-md-3" scope="col">Désincrire</th>
                    </tr>
                </thead>
                <tbody>

                    {% for intern in session.intern %}
                    <tr>
                    <td>{{intern}}</td>
                    <td class="col col-md-3" scope="col"><a class="btn btn-warning" href=""><i class="bi bi-box-arrow-left"></i> Désincrire</a></td>
                    </tr>
                    <tr>
                    {% endfor %}
                    
                </tbody>
            </table>
        </div>
    </section>  


</main>


{% endblock %}